<!DOCTYPE html>
<html>
  <head>
    <title>天浮き</title>
    <meta name="description" content="天浮き" />
    <link type="text/css" rel="stylesheet" href="/data/css/style.css" />
    <script src="https://unpkg.com/hydra-synth"></script>
  </head>
  <body>
    <script type="text/javascript" src="/data/config/commands/com5.js"></script>
    <script type="text/javascript" src="/data/config/config.js"></script>
    <script type="text/javascript" src="/data/config/js/jsterm.js"></script>
    <canvas id="myCanvas">
    <script>
      // create a new hydra-synth instance
      var hydra = new Hydra({
        canvas: document.getElementById("myCanvas"),
        detectAudio: true,
      });
      A = window.innerWidth / window.innerHeight;

      rn = () => Math.random();
      noise()
        .color(() => a.fft[2] * 0.811, 0.717, 2.6)
        .modulate(noise(() => a.fft[1] * 1.245))
        .scale(() => a.fft[2] * 2.565)
        .layer(
          src(o0)
            .mask(osc(15.38).modulateRotate(osc(), rn, 0.949))
            .scale(() => a.fft[2] * 2.098)
            .luma(0.25, 0.419)
        )
        .blend(o0)
        .out(o0);
      osc()
        .modulate(noise(() => a.fft[1] * 2.484))
        .color(0.146, 0.278, 1.118)
        .out(o1);
      src(o0)
        .modulate(o1)
        .layer(src(o1).mask(o1).saturate(1.707))
        .modulateRotate(o1)
        .rotate(({ time }) => (time % 83.897) * 0.072)
        .out(o2);
      render(o2);

      setResolution(window.innerWidth * 1, window.innerHeight * 1);
    </script></canvas>
  </body>
</html>
